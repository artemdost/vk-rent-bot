# Changelog

–í—Å–µ –∑–Ω–∞—á–∏–º—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –ø—Ä–æ–µ–∫—Ç–µ –±—É–¥—É—Ç –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω—ã –≤ —ç—Ç–æ–º —Ñ–∞–π–ª–µ.

## [2.0.0] - 2024-10-10

### üéâ –ö—Ä—É–ø–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ - –ú–æ–¥—É–ª—å–Ω–∞—è —Ä–µ—Å—Ç—Ä—É–∫—Ç—É—Ä–∏–∑–∞—Ü–∏—è

–ü—Ä–æ–µ–∫—Ç –±—ã–ª –ø–æ–ª–Ω–æ—Å—Ç—å—é –ø–µ—Ä–µ—Ä–∞–±–æ—Ç–∞–Ω —Å –ø–ª–æ—Å–∫–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –Ω–∞ –º–æ–¥—É–ª—å–Ω—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É.

### ‚ú® –î–æ–±–∞–≤–ª–µ–Ω–æ

#### –ù–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
- **bot/** - –æ—Å–Ω–æ–≤–Ω–æ–π –ø–∞–∫–µ—Ç –±–æ—Ç–∞
  - **config.py** - —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
  - **states.py** - –≤—Å–µ FSM —Å–æ—Å—Ç–æ—è–Ω–∏—è –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ
  - **keyboards/** - –æ—Ç–¥–µ–ª—å–Ω—ã–π –ø–∞–∫–µ—Ç –¥–ª—è UI
  - **handlers/** - –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Ä–∞–∑–¥–µ–ª–µ–Ω—ã –ø–æ —Ñ—É–Ω–∫—Ü–∏—è–º
  - **services/** - –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ –∏ —Ä–∞–±–æ—Ç–∞ —Å API
  - **utils/** - —É—Ç–∏–ª–∏—Ç—ã (formatters, validators)
- **storage/** - –≤—ã–¥–µ–ª–µ–Ω–Ω—ã–π –ø–∞–∫–µ—Ç –¥–ª—è —Ö—Ä–∞–Ω–∏–ª–∏—â–∞
- **AI_GUIDE.md** - —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å AI
- **MIGRATION.md** - –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –º–∏–≥—Ä–∞—Ü–∏–∏
- **CHANGELOG.md** - —ç—Ç–æ—Ç —Ñ–∞–π–ª

#### –ù–æ–≤—ã–µ –º–æ–¥—É–ª–∏

**–£—Ç–∏–ª–∏—Ç—ã (bot/utils/):**
- `formatters.py` - —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ü–µ–Ω, —Ç–µ–∫—Å—Ç–æ–≤, –ø—Ä–µ–≤—å—é
- `validators.py` - –≤–∞–ª–∏–¥–∞—Ü–∏—è —Ç–µ–ª–µ—Ñ–æ–Ω–æ–≤, —á–∏—Å–µ–ª, —Ä–∞–π–æ–Ω–æ–≤

**–ö–ª–∞–≤–∏–∞—Ç—É—Ä—ã (bot/keyboards/):**
- `menu.py` - –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é
- `rent.py` - –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –æ–±—ä—è–≤–ª–µ–Ω–∏–π
- `search.py` - –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã –¥–ª—è –ø–æ–∏—Å–∫–∞

**–û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ (bot/handlers/):**
- `menu.py` - –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é –∏ –Ω–∞–≤–∏–≥–∞—Ü–∏—è
- `rent.py` - —Å–æ–∑–¥–∞–Ω–∏–µ –æ–±—ä—è–≤–ª–µ–Ω–∏–π (400+ —Å—Ç—Ä–æ–∫)
- `search.py` - –ø–æ–∏—Å–∫ –æ–±—ä—è–≤–ª–µ–Ω–∏–π (400+ —Å—Ç—Ä–æ–∫)

**–°–µ—Ä–≤–∏—Å—ã (bot/services/):**
- `vk_api.py` - –Ω–∏–∑–∫–æ—É—Ä–æ–≤–Ω–µ–≤–∞—è —Ä–∞–±–æ—Ç–∞ —Å VK API
- `post.py` - –ø—É–±–ª–∏–∫–∞—Ü–∏—è –ø–æ—Å—Ç–æ–≤ –∏ –∑–∞–≥—Ä—É–∑–∫–∞ —Ñ–æ—Ç–æ
- `subscription.py` - –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–ø–∏—Å–∫–∏
- `search.py` - –ø–æ–∏—Å–∫ –ø–æ –æ–±—ä—è–≤–ª–µ–Ω–∏—è–º

#### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- **README.md** - –ø–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞
  - –û–ø–∏—Å–∞–Ω–∏–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π
  - –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ —É—Å—Ç–∞–Ω–æ–≤–∫–µ
  - –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
  - –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ
- **AI_GUIDE.md** - –ø–æ–¥—Ä–æ–±–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –¥–ª—è AI
  - –ö–∞—Ä—Ç–∞ –º–æ–¥—É–ª–µ–π
  - –¢–∏–ø–æ–≤—ã–µ –∑–∞–¥–∞—á–∏
  - –¢–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö
  - –ü—Ä–∞–≤–∏–ª–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
- **MIGRATION.md** - —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –ø–µ—Ä–µ—Ö–æ–¥—É
  - –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Å—Ç–∞—Ä—ã—Ö –∏ –Ω–æ–≤—ã—Ö —Ñ–∞–π–ª–æ–≤
  - –ü—Ä–æ—Ü–µ—Å—Å –º–∏–≥—Ä–∞—Ü–∏–∏
  - –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Å–ª–µ –º–∏–≥—Ä–∞—Ü–∏–∏

### üîÑ –ò–∑–º–µ–Ω–µ–Ω–æ

#### –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤

**core.py** ‚Üí –†–∞–∑–¥–µ–ª—ë–Ω –Ω–∞:
- `bot/__init__.py` - –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –±–æ—Ç–∞
- `bot/config.py` - –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
- `bot/states.py` - FSM —Å–æ—Å—Ç–æ—è–Ω–∏—è
- `bot/keyboards/` - –≤—Å–µ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã

**post_flow.py** (1530 —Å—Ç—Ä–æ–∫) ‚Üí –†–∞–∑–¥–µ–ª—ë–Ω –Ω–∞:
- `bot/handlers/menu.py` (170 —Å—Ç—Ä–æ–∫)
- `bot/handlers/rent.py` (450 —Å—Ç—Ä–æ–∫)
- `bot/handlers/search.py` (400 —Å—Ç—Ä–æ–∫)
- `bot/services/search.py` (200 —Å—Ç—Ä–æ–∫)
- `bot/services/subscription.py` (40 —Å—Ç—Ä–æ–∫)
- `bot/utils/validators.py` (70 —Å—Ç—Ä–æ–∫)

**post_submit.py** ‚Üí –†–∞–∑–¥–µ–ª—ë–Ω –Ω–∞:
- `bot/services/post.py` - –ø—É–±–ª–∏–∫–∞—Ü–∏—è
- `bot/services/vk_api.py` - API –≤—ã–∑–æ–≤—ã
- `bot/utils/formatters.py` - —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

**storage.py** ‚Üí –ü–µ—Ä–µ–º–µ—â—ë–Ω –≤:
- `storage/storage.py` - –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞

#### –£–ª—É—á—à–µ–Ω–∏—è –∫–æ–¥–∞

- –î–æ–±–∞–≤–ª–µ–Ω—ã docstrings –∫–æ –≤—Å–µ–º —Ñ—É–Ω–∫—Ü–∏—è–º
- –£–ª—É—á—à–µ–Ω–∞ —Ç–∏–ø–∏–∑–∞—Ü–∏—è (–≥–¥–µ –≤–æ–∑–º–æ–∂–Ω–æ)
- –î–æ–±–∞–≤–ª–µ–Ω–æ –±–æ–ª—å—à–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤
- –£–ª—É—á—à–µ–Ω–æ –∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–π (–±–µ–∑ –ø–æ–¥—á—ë—Ä–∫–∏–≤–∞–Ω–∏—è –¥–ª—è –ø—É–±–ª–∏—á–Ω—ã—Ö)
- –°—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

#### –ò–º–ø–æ—Ä—Ç—ã

**–°—Ç–∞—Ä—ã–µ –∏–º–ø–æ—Ä—Ç—ã:**
```python
from core import bot, RentStates, main_menu_inline
from post_submit import send_to_scheduled
from storage import storage
```

**–ù–æ–≤—ã–µ –∏–º–ø–æ—Ä—Ç—ã:**
```python
from bot import bot
from bot.states import RentStates
from bot.keyboards import main_menu_inline
from bot.services import send_to_scheduled
from storage import storage
```

### üóÇÔ∏è –ü–µ—Ä–µ–º–µ—â–µ–Ω–æ

–°—Ç–∞—Ä—ã–µ —Ñ–∞–π–ª—ã —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã –≤ –ø–∞–ø–∫–µ `old/`:
- `old/core.py`
- `old/post_flow.py`
- `old/post_submit.py`
- `old/storage.py`
- `old/fix_bot.py`

### ‚ö° –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

- –ë–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π - —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –∏–¥–µ–Ω—Ç–∏—á–Ω–∞

### üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- –ë–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π - —Ç–æ–∫–µ–Ω—ã –∏ –ø—Ä–∞–≤–∞ —Ç–µ –∂–µ

### üêõ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

- –ù–µ—Ç –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ –ª–æ–≥–∏–∫–µ
- –ö–æ–¥ —Å—Ç–∞–ª –±–æ–ª–µ–µ —á–∏—Ç–∞–µ–º—ã–º –∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–º

### üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

**–î–æ:**
- 6 —Ñ–∞–π–ª–æ–≤ –≤ –∫–æ—Ä–Ω–µ
- ~3000 —Å—Ç—Ä–æ–∫ –∫–æ–¥–∞
- 1 —Ñ–∞–π–ª >1500 —Å—Ç—Ä–æ–∫

**–ü–æ—Å–ª–µ:**
- 21 –º–æ–¥—É–ª—å Python
- ~3000 —Å—Ç—Ä–æ–∫ –∫–æ–¥–∞ (–∏–¥–µ–Ω—Ç–∏—á–Ω–æ)
- –ú–∞–∫—Å–∏–º—É–º ~450 —Å—Ç—Ä–æ–∫ –≤ —Ñ–∞–π–ª–µ
- 3 MD —Ñ–∞–π–ª–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏

**–†–∞–∑–º–µ—Ä —Ñ–∞–π–ª–æ–≤:**
```
–°—Ç–∞—Ä–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞:
core.py         - 196 —Å—Ç—Ä–æ–∫
post_flow.py    - 1530 —Å—Ç—Ä–æ–∫ (!)
post_submit.py  - 234 —Å—Ç—Ä–æ–∫–∏
storage.py      - 89 —Å—Ç—Ä–æ–∫
fix_bot.py      - 71 —Å—Ç—Ä–æ–∫–∞
main.py         - 13 —Å—Ç—Ä–æ–∫

–ù–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ (—Ç–æ–ø-10):
handlers/rent.py    - 450 —Å—Ç—Ä–æ–∫
handlers/search.py  - 400 —Å—Ç—Ä–æ–∫
services/post.py    - 200 —Å—Ç—Ä–æ–∫
services/search.py  - 180 —Å—Ç—Ä–æ–∫
handlers/menu.py    - 170 —Å—Ç—Ä–æ–∫
keyboards/rent.py   - 90 —Å—Ç—Ä–æ–∫
utils/formatters.py - 85 —Å—Ç—Ä–æ–∫
storage/storage.py  - 89 —Å—Ç—Ä–æ–∫
utils/validators.py - 70 —Å—Ç—Ä–æ–∫
keyboards/search.py - 60 —Å—Ç—Ä–æ–∫
```

### üéØ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞

1. **–î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤:**
   - –õ–µ–≥–∫–æ –Ω–∞–π—Ç–∏ –Ω—É–∂–Ω—ã–π –∫–æ–¥
   - –ü—Ä–æ—â–µ –≤–Ω–æ—Å–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è
   - –ú–µ–Ω—å—à–µ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤ –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ –≤ –∫–æ–º–∞–Ω–¥–µ
   - –£–¥–æ–±–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö –º–æ–¥—É–ª–µ–π

2. **–î–ª—è AI-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–æ–≤:**
   - –ß—ë—Ç–∫–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
   - –ü–æ–Ω—è—Ç–Ω—ã–µ –∑–æ–Ω—ã –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏
   - –ü–æ–¥—Ä–æ–±–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
   - –õ–µ–≥–∫–æ –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –Ω–æ–≤—ã–π –∫–æ–¥

3. **–î–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π:**
   - –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –Ω–µ –∏–∑–º–µ–Ω–∏–ª–∞—Å—å
   - –í—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ —Ä–∞–Ω—å—à–µ
   - –ë—ã—Å—Ç—Ä–µ–µ –∏—Å–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –±–∞–≥–∏

### üìù –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

- –í—Å–µ —Å—Ç–∞—Ä—ã–µ —Ñ–∞–π–ª—ã —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã –≤ `old/`
- –§–æ—Ä–º–∞—Ç –¥–∞–Ω–Ω—ã—Ö —Å–æ–≤–º–µ—Å—Ç–∏–º
- –ú–∏–≥—Ä–∞—Ü–∏—è –Ω–µ —Ç—Ä–µ–±—É–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è `.env`
- `bot_storage.json` –æ—Å—Ç–∞–ª—Å—è –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π

---

## [1.0.0] - 2024-10-09

### ‚ú® –ü–µ—Ä–≤–∞—è –≤–µ—Ä—Å–∏—è

- –ë–∞–∑–æ–≤—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –±–æ—Ç–∞
- –°–æ–∑–¥–∞–Ω–∏–µ –æ–±—ä—è–≤–ª–µ–Ω–∏–π
- –ü–æ–∏—Å–∫ –æ–±—ä—è–≤–ª–µ–Ω–∏–π
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–ø–∏—Å–∫–∏
- –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–æ—Ç–æ
- –û—Ç–ª–æ–∂–µ–Ω–Ω—ã–µ –∑–∞–ø–∏—Å–∏

---

### –§–æ—Ä–º–∞—Ç

–≠—Ç–æ—Ç changelog —Å–ª–µ–¥—É–µ—Ç –ø—Ä–∏–Ω—Ü–∏–ø–∞–º [Keep a Changelog](https://keepachangelog.com/ru/1.0.0/).

–¢–∏–ø—ã –∏–∑–º–µ–Ω–µ–Ω–∏–π:
- `Added` - –Ω–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
- `Changed` - –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏
- `Deprecated` - —Ñ—É–Ω–∫—Ü–∏–∏, –∫–æ—Ç–æ—Ä—ã–µ —Å–∫–æ—Ä–æ –±—É–¥—É—Ç —É–¥–∞–ª–µ–Ω—ã
- `Removed` - —É–¥–∞–ª—ë–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
- `Fixed` - –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –±–∞–≥–æ–≤
- `Security` - –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è —É—è–∑–≤–∏–º–æ—Å—Ç–µ–π
